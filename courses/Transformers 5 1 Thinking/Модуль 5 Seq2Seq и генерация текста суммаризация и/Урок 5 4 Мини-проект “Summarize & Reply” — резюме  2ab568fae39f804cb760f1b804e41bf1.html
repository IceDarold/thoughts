<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>–£—Ä–æ–∫ 5.4. –ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: ‚ÄúSummarize &amp; Reply‚Äù ‚Äî —Ä–µ–∑—é–º–µ –¥–∏–∞–ª–æ–≥–∞ + —á–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç–≤–µ—Ç–∞ —Å–∞–ø–ø–æ—Ä—Ç–∞</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 10px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.collection-content td {
	white-space: pre-wrap;
	word-break: break-word;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.callout img.notion-static-icon {
	width: 1em;
	height: 1em;
}

.callout p {
	margin: 0;
}

.callout h1,
.callout h2,
.callout h3 {
	margin: 0 0 0.6rem;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

blockquote.quote-large {
	font-size: 1.25em;
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.highlight-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.highlight-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.highlight-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.highlight-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.highlight-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.highlight-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.highlight-default_background {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray_background {
	background: rgba(42, 28, 0, 0.07);
}
.highlight-brown_background {
	background: rgba(139, 46, 0, 0.086);
}
.highlight-orange_background {
	background: rgba(224, 101, 1, 0.129);
}
.highlight-yellow_background {
	background: rgba(211, 168, 0, 0.137);
}
.highlight-teal_background {
	background: rgba(0, 100, 45, 0.09);
}
.highlight-blue_background {
	background: rgba(0, 124, 215, 0.094);
}
.highlight-purple_background {
	background: rgba(102, 0, 178, 0.078);
}
.highlight-pink_background {
	background: rgba(197, 0, 93, 0.086);
}
.highlight-red_background {
	background: rgba(223, 22, 0, 0.094);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.block-color-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.block-color-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.block-color-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.block-color-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.block-color-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.block-color-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(240, 239, 237, 1);
}
.block-color-brown_background {
	background: rgba(245, 237, 233, 1);
}
.block-color-orange_background {
	background: rgba(251, 235, 222, 1);
}
.block-color-yellow_background {
	background: rgba(249, 243, 220, 1);
}
.block-color-teal_background {
	background: rgba(232, 241, 236, 1);
}
.block-color-blue_background {
	background: rgba(229, 242, 252, 1);
}
.block-color-purple_background {
	background: rgba(243, 235, 249, 1);
}
.block-color-pink_background {
	background: rgba(250, 233, 241, 1);
}
.block-color-red_background {
	background: rgba(252, 233, 231, 1);
}
.select-value-color-default { background-color: rgba(42, 28, 0, 0.07); }
.select-value-color-gray { background-color: rgba(28, 19, 1, 0.11); }
.select-value-color-brown { background-color: rgba(127, 51, 0, 0.156); }
.select-value-color-orange { background-color: rgba(196, 88, 0, 0.203); }
.select-value-color-yellow { background-color: rgba(209, 156, 0, 0.282); }
.select-value-color-green { background-color: rgba(0, 96, 38, 0.156); }
.select-value-color-blue { background-color: rgba(0, 118, 217, 0.203); }
.select-value-color-purple { background-color: rgba(92, 0, 163, 0.141); }
.select-value-color-pink { background-color: rgba(183, 0, 78, 0.152); }
.select-value-color-red { background-color: rgba(206, 24, 0, 0.164); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="2ab568fa-e39f-804c-b760-f1b804e41bf1" class="page sans"><header><h1 class="page-title">–£—Ä–æ–∫ 5.4. –ú–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç: ‚ÄúSummarize &amp; Reply‚Äù ‚Äî —Ä–µ–∑—é–º–µ –¥–∏–∞–ª–æ–≥–∞ + —á–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç–≤–µ—Ç–∞ —Å–∞–ø–ø–æ—Ä—Ç–∞</h1><p class="page-description"></p></header><div class="page-body"><p id="2ab568fa-e39f-801b-a0f3-d52e930aa6b5" class="">–ù—É –≤—Å—ë, —Ç–µ–ø–µ—Ä—å —Å–æ–±–∏—Ä–∞–µ–º <strong>–±–æ–µ–≤–æ–π –º–∏–Ω–∏-–ø—Ä–æ–¥—É–∫—Ç</strong> –∏–∑ –≤—Å–µ–≥–æ, —á–µ–º—É —É—á–∏–ª–∏—Å—å –≤ –º–æ–¥—É–ª–µ 5 üîß</p><hr id="2ab568fa-e39f-80fd-94e5-d81a1fb7e7c7"/><h2 id="2ab568fa-e39f-808a-aef5-f7f190725249" class="">1. –¶–µ–ª—å —É—Ä–æ–∫–∞</h2><p id="2ab568fa-e39f-8066-921e-f10271a1048d" class="">–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ —É—á–µ–Ω–∏–∫ —É–º–µ–µ—Ç:</p><ul id="2ab568fa-e39f-807f-95b1-e5231da60d23" class="bulleted-list"><li style="list-style-type:disc">–±—Ä–∞—Ç—å <strong>–¥–æ–æ–±—É—á–µ–Ω–Ω—ã–π summarizer</strong> (–∏–∑ 5.3) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é;</li></ul><ul id="2ab568fa-e39f-8020-94b4-f82ad99e9a5e" class="bulleted-list"><li style="list-style-type:disc">—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ –≤—Ç–æ—Ä–æ–π —à–∞–≥: –≥–µ–Ω–µ—Ä–∞—Ü–∏—é <strong>—á–µ—Ä–Ω–æ–≤–∏–∫–∞ –æ—Ç–≤–µ—Ç–∞</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é;</li></ul><ul id="2ab568fa-e39f-8036-9db6-d7b1d000af32" class="bulleted-list"><li style="list-style-type:disc">–∞–∫–∫—É—Ä–∞—Ç–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–º–ø—Ç–æ–º –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–∞;</li></ul><ul id="2ab568fa-e39f-80ac-aca1-d6c054b954e1" class="bulleted-list"><li style="list-style-type:disc">—Å–æ–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Å–∫—Ä–∏–ø—Ç/–º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç:</li></ul><blockquote id="2ab568fa-e39f-8000-8bb2-d3586562b9bc" class="">–¥–∏–∞–ª–æ–≥ ‚Üí summary ‚Üí friendly reply</blockquote><p id="2ab568fa-e39f-805b-b8bd-fb072c12a18c" class="">‚Ä¶–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö.</p><hr id="2ab568fa-e39f-80be-a74c-c41d78572bee"/><h2 id="2ab568fa-e39f-8044-9ccd-c98b9da21aa3" class="">2. –ò–¥–µ—è: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–æ–¥–µ–ª–µ–π (–∏–ª–∏ ‚Äú–¥–≤—É—Ö—à–∞–≥–æ–≤—ã–π –º–æ–∑–≥‚Äù)</h2><h3 id="2ab568fa-e39f-80c0-8f31-d34807d87c2c" class="">2.1. –ó–∞—á–µ–º –¥–µ–ª–∏—Ç—å –Ω–∞ summary –∏ reply?</h3><p id="2ab568fa-e39f-804e-ad5b-cd903deb4543" class="">–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –¥–µ–ª–∞—Ç—å <code>dialog ‚Üí reply</code>, –º—ã —Å—Ç—Ä–æ–∏–º <strong>–¥–≤—É—Ö—à–∞–≥–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω</strong>:</p><ol type="1" id="2ab568fa-e39f-800d-b75c-e040352c45af" class="numbered-list" start="1"><li><code>dialog ‚Üí summary</code><ul id="2ab568fa-e39f-8061-a481-e7c4c0877bd4" class="bulleted-list"><li style="list-style-type:disc">–í—ã–∂–∏–º–∞–µ–º —Å—É—Ç—å: —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø—Ä–æ–±–ª–µ–º–∞, —Å—Ç–∞—Ç—É—Å, —á—Ç–æ –æ–±–µ—â–∞–ª–∏ —Å–¥–µ–ª–∞—Ç—å.</li></ul><ul id="2ab568fa-e39f-8061-a0fd-df8590e74b5f" class="bulleted-list"><li style="list-style-type:disc">Summary –∫–æ—Ä–æ—á–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–µ–µ, –ª–µ–≥—á–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-8092-8076-cf1e77619193" class="numbered-list" start="2"><li><code>summary ‚Üí reply</code><ul id="2ab568fa-e39f-8054-9765-c87480ff68a3" class="bulleted-list"><li style="list-style-type:disc">–ù–∞ –æ—Å–Ω–æ–≤–µ —Å–∂–∞—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º <strong>–≤–µ–∂–ª–∏–≤—ã–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç</strong> –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.</li></ul><ul id="2ab568fa-e39f-801a-84b7-cf2b5e10412d" class="bulleted-list"><li style="list-style-type:disc">–ü—Ä–æ—â–µ —Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã, –ª–µ–≥—á–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å.</li></ul></li></ol><p id="2ab568fa-e39f-8053-9c19-c23d6ae987fd" class="">–¢–∞–∫ –º—ã –ø–æ–ª—É—á–∞–µ–º:</p><ul id="2ab568fa-e39f-807d-8cb0-ef35bf9bbea6" class="bulleted-list"><li style="list-style-type:disc">–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤, —á—Ç–æ –º–æ–¥–µ–ª—å –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –≤ –¥–ª–∏–Ω–Ω–æ–º –¥–∏–∞–ª–æ–≥–µ),</li></ul><ul id="2ab568fa-e39f-80df-badc-d4ecf2cfd5fb" class="bulleted-list"><li style="list-style-type:disc">–±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:<ul id="2ab568fa-e39f-805f-b37d-f7665710ac6d" class="bulleted-list"><li style="list-style-type:circle">summary –º–æ–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–≥–µ–Ω—Ç—É,</li></ul><ul id="2ab568fa-e39f-8016-8aae-f720f7b7e706" class="bulleted-list"><li style="list-style-type:circle">–æ—Ç–≤–µ—Ç –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º.</li></ul></li></ul><h3 id="2ab568fa-e39f-805c-b2ba-cc61e0861500" class="">2.2. –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–Ω—É –∏ —Ç—É –∂–µ –º–æ–¥–µ–ª—å –∏–ª–∏ —Ä–∞–∑–Ω—ã–µ?</h3><p id="2ab568fa-e39f-8049-a71d-ef7d3f8ce44b" class="">–í —ç—Ç–æ–º —É—á–µ–±–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:</p><ul id="2ab568fa-e39f-801b-859e-e169cef34047" class="bulleted-list"><li style="list-style-type:disc">–º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º <strong>–æ–¥–Ω—É –∏ —Ç—É –∂–µ seq2seq –º–æ–¥–µ–ª—å</strong>:<ul id="2ab568fa-e39f-80ca-bce4-f66c1d757670" class="bulleted-list"><li style="list-style-type:circle">—Å–Ω–∞—á–∞–ª–∞ –æ–Ω–∞ —Å—É–º–º–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥,</li></ul><ul id="2ab568fa-e39f-80b8-80cf-fdcb605210b6" class="bulleted-list"><li style="list-style-type:circle">–ø–æ—Ç–æ–º, —Å –¥—Ä—É–≥–∏–º –ø—Ä–æ–º–ø—Ç–æ–º, –ø–∏—à–µ—Ç –æ—Ç–≤–µ—Ç.</li></ul></li></ul><p id="2ab568fa-e39f-8008-a1a0-ea42d60e8d9c" class="">–í —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ —á–∞—Å—Ç–æ:</p><ul id="2ab568fa-e39f-8099-89b9-c00fb7ede12c" class="bulleted-list"><li style="list-style-type:disc">–æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—é,</li></ul><ul id="2ab568fa-e39f-809c-826e-c6c615f96f28" class="bulleted-list"><li style="list-style-type:disc">–¥—Ä—É–≥–∞—è ‚Äî –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤ (SFT –Ω–∞ –¥–∏–∞–ª–æ–≥–∞—Ö agent‚Üîuser).</li></ul><p id="2ab568fa-e39f-808d-a269-c20cdd45455f" class="">–ù–æ –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø ‚Äî ¬´–¥–≤–æ–π–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ¬ª –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–æ—Ä–º.</p><hr id="2ab568fa-e39f-80bf-a155-c81aeb67acdb"/><h2 id="2ab568fa-e39f-8018-85d9-ff2f672e89e9" class="">3. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: —á—Ç–æ –º—ã —É–∂–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å</h2><p id="2ab568fa-e39f-801a-a313-fc6d91ec7f07" class="">–ò–∑ —É—Ä–æ–∫–∞ 5.3 —É –Ω–∞—Å –µ—Å—Ç—å:</p><ul id="2ab568fa-e39f-80c1-9a1f-cf50d8ec020e" class="bulleted-list"><li style="list-style-type:disc">–¥–æ–æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å, —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –≤ –ø–∞–ø–∫–µ, –¥–æ–ø—É—Å—Ç–∏–º:<p id="2ab568fa-e39f-802a-ad3b-f9be658a37d6" class=""><code>models/dialog_summarizer_finetuned</code></p></li></ul><ul id="2ab568fa-e39f-80ba-9c5e-d23d61505290" class="bulleted-list"><li style="list-style-type:disc">—Ç–∞–º –ª–µ–∂–∞—Ç:<ul id="2ab568fa-e39f-80a4-8866-cd81ed8d5dc4" class="bulleted-list"><li style="list-style-type:circle"><code>config.json</code></li></ul><ul id="2ab568fa-e39f-804c-9427-fd172ec69842" class="bulleted-list"><li style="list-style-type:circle"><code>pytorch_model.bin</code> (–∏–ª–∏ sharded –≤–µ—Å–∞)</li></ul><ul id="2ab568fa-e39f-803c-9110-d9f26b9daf64" class="bulleted-list"><li style="list-style-type:circle">—Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä (vocab –∏ —Ç.–ø.)</li></ul></li></ul><p id="2ab568fa-e39f-8010-bf9d-ed905f09a23d" class="">–° —ç—Ç–∏–º –º—ã —Å–µ–π—á–∞—Å –∏ –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å.</p><hr id="2ab568fa-e39f-807f-a7e6-ec8559413c11"/><h2 id="2ab568fa-e39f-8097-b0de-ed15717c6081" class="">4. –®–∞–≥ 1. –§—É–Ω–∫—Ü–∏—è <code>summarize_dialog(dialog)</code></h2><p id="2ab568fa-e39f-8039-8fb9-cf88b0414aaa" class="">–°–Ω–∞—á–∞–ª–∞ –¥–µ–ª–∞–µ–º –∞–∫–∫—É—Ä–∞—Ç–Ω—É—é –æ–±—ë—Ä—Ç–∫—É –≤–æ–∫—Ä—É–≥ –Ω–∞—à–µ–≥–æ summarizer‚Äô–∞.</p><h3 id="2ab568fa-e39f-80ee-a434-c88e922b4af5" class="">4.1. –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥–µ–ª—å –∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä</h3><p id="2ab568fa-e39f-80b5-a164-c4e63b808484" class="">–°–¥–µ–ª–∞–µ–º –º–æ–¥—É–ª—å <code>summarize_and_reply.py</code>.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-80cd-be60-e86d5425db8e" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">import torch
from transformers import AutoTokenizer, AutoModelForSeq2SeqLM

MODEL_DIR = &quot;models/dialog_summarizer_finetuned&quot;  # –ø—É—Ç—å –∫ –¥–æ–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

# –ì—Ä—É–∑–∏–º –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª—è
tokenizer = AutoTokenizer.from_pretrained(MODEL_DIR)
model = AutoModelForSeq2SeqLM.from_pretrained(MODEL_DIR)

device = torch.device(&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;)
model.to(device)
</code></pre><p id="2ab568fa-e39f-807a-9758-d0d72fd05e1e" class=""><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</strong></p><ul id="2ab568fa-e39f-800b-ab4a-cf7717ce47fb" class="bulleted-list"><li style="list-style-type:disc"><code>MODEL_DIR</code> ‚Äî –ø—É—Ç—å –∫ –Ω–∞—à–µ–º—É —á–µ–∫–ø–æ–∏–Ω—Ç—É (–º–æ–∂–Ω–æ –ø–æ—Ç–æ–º –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç—ã/–∫–æ–Ω—Ñ–∏–≥).</li></ul><ul id="2ab568fa-e39f-80d8-b2ee-e70c08206ae0" class="bulleted-list"><li style="list-style-type:disc">–ú–æ–¥–µ–ª—å –∏ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –≥—Ä—É–∑–∏–º <strong>–æ–¥–∏–Ω —Ä–∞–∑</strong>, –∞ –Ω–µ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —Ç–∞–∫ –±—ã—Å—Ç—Ä–µ–µ.</li></ul><ul id="2ab568fa-e39f-802a-b35a-c041e78ba1b6" class="bulleted-list"><li style="list-style-type:disc">–ù–∞ GPU –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º —Ç–æ–∂–µ –æ–¥–∏–Ω —Ä–∞–∑.</li></ul><h3 id="2ab568fa-e39f-808e-b671-c6d0ec763038" class="">4.2. –§—É–Ω–∫—Ü–∏—è —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏</h3><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-801f-b1bd-e2fb044e08bc" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">def summarize_dialog(dialog: str, max_new_tokens: int = 64) -&gt; str:
    # 1. –¢–æ–∫–µ–Ω–∏–∑–∏—Ä—É–µ–º –¥–∏–∞–ª–æ–≥
    inputs = tokenizer(
        dialog,
        return_tensors=&quot;pt&quot;,
        truncation=True,
        max_length=512,  # –ª–∏–º–∏—Ç –Ω–∞ –≤—Ö–æ–¥; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å/–ø–æ–Ω–∏–∑–∏—Ç—å
    )
    inputs = {k: v.to(device) for k, v in inputs.items()}

    # 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º summary
    with torch.no_grad():
        summary_ids = model.generate(
            **inputs,
            max_new_tokens=max_new_tokens,
            num_beams=4,
            length_penalty=1.0,
            no_repeat_ngram_size=3,
        )

    # 3. –î–µ–∫–æ–¥–∏—Ä—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É
    summary = tokenizer.decode(summary_ids[0], skip_special_tokens=True)
    return summary
</code></pre><p id="2ab568fa-e39f-8031-90b3-ffdd06ae8ef7" class=""><strong>–ß—Ç–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —É—á–µ–Ω–∏–∫–∞–º:</strong></p><ul id="2ab568fa-e39f-8089-8e78-f76eb9eee487" class="bulleted-list"><li style="list-style-type:disc">–ú—ã <strong>—Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> –∏—Å–ø–æ–ª—å–∑—É–µ–º, —á—Ç–æ –≤ 5.1, –ø—Ä–æ—Å—Ç–æ –º–æ–¥–µ–ª—å —Ç–µ–ø–µ—Ä—å —É–∂–µ –¥–æ–æ–±—É—á–µ–Ω–∞.</li></ul><ul id="2ab568fa-e39f-804b-a45a-f69896c67a4e" class="bulleted-list"><li style="list-style-type:disc"><code>max_new_tokens</code> –º–æ–∂–Ω–æ –∫—Ä—É—Ç–∏—Ç—å:<ul id="2ab568fa-e39f-809e-a5a0-cdd3e971334e" class="bulleted-list"><li style="list-style-type:circle">40‚Äì80 –æ–±—ã—á–Ω–æ –æ–∫ –¥–ª—è –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä–µ–∑—é–º–µ —Ç–∏–∫–µ—Ç–∞.</li></ul></li></ul><ul id="2ab568fa-e39f-809f-832e-c7960e799442" class="bulleted-list"><li style="list-style-type:disc"><code>num_beams=4</code> ‚Äî –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é.</li></ul><p id="2ab568fa-e39f-80c7-95d2-fba177058d3f" class="">–ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å —á—É—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:</p><ul id="2ab568fa-e39f-8084-b3ae-fd7d5d1962a1" class="bulleted-list"><li style="list-style-type:disc"><code>.strip()</code> summary,</li></ul><ul id="2ab568fa-e39f-8044-a12e-ddea11553c01" class="bulleted-list"><li style="list-style-type:disc">–∏–ª–∏ –ø–æ –∂–µ–ª–∞–Ω–∏—é ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (–Ω–æ —ç—Ç–æ —É–∂–µ –ø–æ–≤–µ—Ä—Ö HF, —á–µ—Ä–µ–∑ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É).</li></ul><hr id="2ab568fa-e39f-8038-9c1d-c11db0bac33b"/><h2 id="2ab568fa-e39f-80cd-a89f-cdde45a4fb6b" class="">5. –®–∞–≥ 2. –§—É–Ω–∫—Ü–∏—è <code>suggest_reply(dialog)</code></h2><p id="2ab568fa-e39f-8007-aebf-e0521c386f60" class="">–¢–µ–ø–µ—Ä—å —Å–¥–µ–ª–∞–µ–º –≤—Ç–æ—Ä–æ–π —à–∞–≥: –Ω–∞ –æ—Å–Ω–æ–≤–µ summary ‚Äî –æ—Ç–≤–µ—Ç.</p><h3 id="2ab568fa-e39f-802f-9398-c44d6b4df0f8" class="">5.1. –õ–æ–≥–∏–∫–∞</h3><ol type="1" id="2ab568fa-e39f-807f-9965-c88ddffce577" class="numbered-list" start="1"><li>–î–µ–ª–∞–µ–º summary: <code>s = summarize_dialog(dialog)</code>.</li></ol><ol type="1" id="2ab568fa-e39f-80eb-8d57-e9017b96a0ad" class="numbered-list" start="2"><li>–°—Ç—Ä–æ–∏–º –ø—Ä–æ–º–ø—Ç –¥–ª—è –º–æ–¥–µ–ª–∏ –≤ —Å—Ç–∏–ª–µ:</li></ol><blockquote id="2ab568fa-e39f-80e7-bbd9-d338f02b7679" class="">‚Äú–¢—ã ‚Äî –≤–µ–∂–ª–∏–≤—ã–π –∞–≥–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –í–æ—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã. –ù–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –æ—Ç–≤–µ—Ç.‚Äù</blockquote><ol type="1" id="2ab568fa-e39f-804b-8597-d5a5f7f8ba69" class="numbered-list" start="1"><li>–ö–æ—Ä–º–∏–º —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç —Ç–æ–π –∂–µ –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–æ—Å–∏–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç.</li></ol><h3 id="2ab568fa-e39f-80cb-aa85-d9dcdf2c57be" class="">5.2. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä)</h3><p id="2ab568fa-e39f-8069-8b95-e4922e990e18" class="">–ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏, –ø–æ-—Ä—É—Å—Å–∫–∏ ‚Äî –±–µ–∑ —Ä–∞–∑–Ω–∏—Ü—ã.</p><p id="2ab568fa-e39f-800c-bad4-c2fbb4aed267" class="">–¢–∏–ø–æ–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-8084-8836-ed0b0bc2bbde" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">def suggest_reply(dialog: str, max_new_tokens: int = 80) -&gt; dict:
    &quot;&quot;&quot;
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å summary –∏ reply.
    &quot;&quot;&quot;
    # 1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º summary
    summary = summarize_dialog(dialog)

    # 2. –°—Ç—Ä–æ–∏–º –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ç–≤–µ—Ç–∞
    prompt = (
        &quot;You are a polite and helpful customer support agent. &quot;
        &quot;Read the following summary of a user conversation and write a short, friendly reply to the user. &quot;
        &quot;Be concise and avoid making promises you cannot guarantee.\n\n&quot;
        f&quot;Conversation summary: {summary}\n\n&quot;
        &quot;Reply to the user:&quot;
    )

    # 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
    inputs = tokenizer(
        prompt,
        return_tensors=&quot;pt&quot;,
        truncation=True,
        max_length=512,
    )
    inputs = {k: v.to(device) for k, v in inputs.items()}

    with torch.no_grad():
        output_ids = model.generate(
            **inputs,
            max_new_tokens=max_new_tokens,
            num_beams=4,
            length_penalty=1.0,
            no_repeat_ngram_size=3,
        )

    reply = tokenizer.decode(output_ids[0], skip_special_tokens=True)
    reply = reply.strip()

    return {
        &quot;summary&quot;: summary,
        &quot;reply&quot;: reply,
    }
</code></pre><p id="2ab568fa-e39f-806f-a2b5-ce7940a9e17f" class=""><strong>–ß—Ç–æ –≤–∞–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å:</strong></p><ul id="2ab568fa-e39f-80ee-8a12-e35e1535042a" class="bulleted-list"><li style="list-style-type:disc">–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º <strong>summary</strong> –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–º–ø—Ç–∞ –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.</li></ul><ul id="2ab568fa-e39f-803f-8176-d9bd450a33a9" class="bulleted-list"><li style="list-style-type:disc">–í –ø—Ä–æ–º–ø—Ç–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞—à–∏—Ç—å:<ul id="2ab568fa-e39f-80c8-9ce5-c90832e85b3c" class="bulleted-list"><li style="list-style-type:circle">—Ç–æ–Ω: ‚Äúpolite, friendly, concise‚Äù,</li></ul><ul id="2ab568fa-e39f-807e-9af4-f937ad6b8c18" class="bulleted-list"><li style="list-style-type:circle">–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: ‚Äúdo not promise specific deadlines unless explicitly stated‚Äù,<p id="2ab568fa-e39f-80ff-8140-d3bea83d71fd" class="">‚Äúavoid jargon‚Äù, –∏ —Ç.–ø.</p></li></ul></li></ul><ul id="2ab568fa-e39f-800e-8fc8-f462b4c40ba3" class="bulleted-list"><li style="list-style-type:disc">–≠—Ç–∞ –º–æ–¥–µ–ª—å –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ –∑–∞—Ç–æ—á–µ–Ω–∞ –ø–æ–¥ —Ç–∞–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã (–æ–Ω–∞ –≤–µ–¥—å –æ–±—É—á–∞–ª–∞—Å—å –Ω–∞ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏),<p id="2ab568fa-e39f-80d7-ac20-e9f0eae55ac8" class="">–Ω–æ –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –¥–µ–ª–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç.</p></li></ul><p id="2ab568fa-e39f-80bd-8bd5-daf61e2f6fbb" class="">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–æ–º–ø—Ç–∞:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-8007-808f-e89efc62962b" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">prompt = (
    &quot;–¢—ã ‚Äî –≤–µ–∂–ª–∏–≤—ã–π –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏. &quot;
    &quot;–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. &quot;
    &quot;–ù–∞–ø–∏—à–∏ –∫–æ—Ä–æ—Ç–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. &quot;
    &quot;–ù–µ –æ–±–µ—â–∞–π —Ç–æ–≥–æ, –≤ —á—ë–º —Ç—ã –Ω–µ —É–≤–µ—Ä–µ–Ω, –∏ –±—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω.\n\n&quot;
    f&quot;–†–µ–∑—é–º–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞: {summary}\n\n&quot;
    &quot;–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:&quot;
)
</code></pre><hr id="2ab568fa-e39f-80d5-90a0-dd65d2516069"/><h2 id="2ab568fa-e39f-8041-a5d2-df5e03f9f3b4" class="">6. –®–∞–≥ 3. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞</h2><p id="2ab568fa-e39f-80de-8b5c-cd82e7fe95a8" class="">–°–¥–µ–ª–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π <code>if __name__ == &quot;__main__&quot;</code> –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-8078-a0bc-d22b75dfb9be" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">if __name__ == &quot;__main__&quot;:
    dialog_example = &quot;&quot;&quot;
    User: Hi, the app started crashing after the last update whenever I open the gallery.
    Support: Sorry about that. Could you tell me your device and OS version?
    User: It&#x27;s a Samsung S21, Android 14, app version 5.2.1.
    Support: Thanks! Does it crash anywhere else or only in the gallery?
    User: Only in the gallery when I try to upload or preview images.
    Support: Got it, we are aware of this bug and working on a fix in the next release.
    &quot;&quot;&quot;

    result = suggest_reply(dialog_example)
    print(&quot;=== SUMMARY ===&quot;)
    print(result[&quot;summary&quot;])
    print(&quot;\n=== SUGGESTED REPLY ===&quot;)
    print(result[&quot;reply&quot;])
</code></pre><p id="2ab568fa-e39f-8012-b9d4-e053eed3c98f" class=""><strong>–ß—Ç–æ –æ–±—Å—É–∂–¥–∞–µ–º:</strong></p><ul id="2ab568fa-e39f-805e-8e1d-e29770907921" class="bulleted-list"><li style="list-style-type:disc">–ù–∞—Å–∫–æ–ª—å–∫–æ summary –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—É—Ç—å.</li></ul><ul id="2ab568fa-e39f-805c-a427-c7e3b09dfb34" class="bulleted-list"><li style="list-style-type:disc">–ù–∞—Å–∫–æ–ª—å–∫–æ reply:<ul id="2ab568fa-e39f-80bb-a926-d8d56f5d5f3f" class="bulleted-list"><li style="list-style-type:circle">–≤–µ–∂–ª–∏–≤—ã–π,</li></ul><ul id="2ab568fa-e39f-8031-9e29-e8b956695e50" class="bulleted-list"><li style="list-style-type:circle">—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ø—Ä–æ–±–ª–µ–º–æ–π,</li></ul><ul id="2ab568fa-e39f-806a-905f-c67397c1f44f" class="bulleted-list"><li style="list-style-type:circle">–Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –ª–∏—à–Ω–µ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äúbug will be fixed tomorrow‚Äù –∏–∑ –≤–æ–∑–¥—É—Ö–∞).</li></ul></li></ul><p id="2ab568fa-e39f-8046-9c17-c0b6db29158b" class="">–ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ–±—è—Ç–∞–º –ø—Ä—è–º–æ –≤ –∫–ª–∞—Å—Å–µ –ø–æ–¥—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç –¥–ª—è –ª—É—á—à–µ–≥–æ —Å—Ç–∏–ª—è.</p><hr id="2ab568fa-e39f-8029-a87d-f78b5b978bd4"/><h2 id="2ab568fa-e39f-8065-b406-ef8de6a04075" class="">7. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) CLI-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –≤–≤–æ–¥–∏–º –¥–∏–∞–ª–æ–≥ —Ä—É–∫–∞–º–∏</h2><p id="2ab568fa-e39f-8010-a6e3-d1c2abdd5653" class="">–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –±–ª–∏–∂–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–π CLI:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-8067-9017-f79be8af7444" class="code code-wrap"><code class="language-Python" style="white-space:pre-wrap;word-break:break-all">import argparse
import textwrap
import sys

def main():
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &quot;--file&quot;,
        type=str,
        default=None,
        help=&quot;Path to a text file with the dialog. If not provided, read from stdin.&quot;,
    )
    args = parser.parse_args()

    if args.file:
        with open(args.file, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:
            dialog = f.read()
    else:
        print(&quot;Paste the dialog below. Finish input with Ctrl+D (Linux/Mac) or Ctrl+Z+Enter (Windows):&quot;)
        dialog = sys.stdin.read()

    result = suggest_reply(dialog)

    print(&quot;\n&quot; + &quot;=&quot; * 80)
    print(&quot;SUMMARY:&quot;)
    print(textwrap.fill(result[&quot;summary&quot;], width=80))
    print(&quot;\n&quot; + &quot;=&quot; * 80)
    print(&quot;SUGGESTED REPLY:&quot;)
    print(textwrap.fill(result[&quot;reply&quot;], width=80))
    print()

if __name__ == &quot;__main__&quot;:
    main()
</code></pre><p id="2ab568fa-e39f-80bc-bc94-dad2f309bbef" class="">–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:</p><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2ab568fa-e39f-80d6-b4a1-c1c5dc830ad8" class="code code-wrap"><code class="language-Bash" style="white-space:pre-wrap;word-break:break-all">python summarize_and_reply.py --file dialog.txt
</code></pre><p id="2ab568fa-e39f-8042-b958-f128d75f279b" class="">–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏—Ç—å –¥–∏–∞–ª–æ–≥ –≤ –∫–æ–Ω—Å–æ–ª—å.</p><hr id="2ab568fa-e39f-80f0-b78f-f02671dbb3e0"/><h2 id="2ab568fa-e39f-8038-b253-f59aa815184b" class="">8. –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (—á–µ—Å—Ç–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä)</h2><p id="2ab568fa-e39f-80fe-a762-f41e73316fa6" class="">–°—Ç–æ–∏—Ç –ø—Ä—è–º–æ –ø—Ä–æ–≥–æ–≤–æ—Ä–∏—Ç—å —É—á–µ–Ω–∏–∫–∞–º, —á—Ç–æ–±—ã —É –Ω–∏—Ö –Ω–µ –±—ã–ª–æ –∏–ª–ª—é–∑–∏–π:</p><ol type="1" id="2ab568fa-e39f-8054-ba4e-fa1594f62fbb" class="numbered-list" start="1"><li><strong>–ú–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –Ω–∞ –æ—Ç–≤–µ—Ç—ã</strong><ul id="2ab568fa-e39f-8080-b9e3-c502553ca7a1" class="bulleted-list"><li style="list-style-type:disc">–æ–Ω–∞ fine-tuned –Ω–∞ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—é (5.3),</li></ul><ul id="2ab568fa-e39f-8050-9eaf-d60037c7bec0" class="bulleted-list"><li style="list-style-type:disc">–ø–æ—ç—Ç–æ–º—É –∫–∞–∫ answer generator –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–µ –∏–¥–µ–∞–ª—å–Ω–∞.</li></ul><ul id="2ab568fa-e39f-80dc-824c-cb259095de89" class="bulleted-list"><li style="list-style-type:disc">–ù–æ —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-80ff-96d6-c0cf28d167eb" class="numbered-list" start="2"><li><strong>–†–∏—Å–∫ ‚Äú–≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π‚Äù</strong><ul id="2ab568fa-e39f-8067-ba4e-f55d5b75fa5b" class="bulleted-list"><li style="list-style-type:disc">–º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ (‚Äúwe will refund you in 24 hours‚Äù), –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ summary;</li></ul><ul id="2ab568fa-e39f-8016-bda9-d395f66aed66" class="bulleted-list"><li style="list-style-type:disc">–ø–æ—ç—Ç–æ–º—É:<ul id="2ab568fa-e39f-807b-a4ba-c2af8f5a0ad3" class="bulleted-list"><li style="list-style-type:circle">–≤–∞–∂–µ–Ω –ø—Ä–æ–º–ø—Ç (‚Äúavoid making promises‚Ä¶‚Äù),</li></ul><ul id="2ab568fa-e39f-801a-a6c3-f486dd5f97d3" class="bulleted-list"><li style="list-style-type:circle">–≤ –ø—Ä–æ–¥–µ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É.</li></ul></li></ul></li></ol><ol type="1" id="2ab568fa-e39f-80b5-9a41-c8a8755ebb7b" class="numbered-list" start="3"><li><strong>–¢–æ–Ω –∏ –±—Ä–µ–Ω–¥-–≥–æ–ª–æ—Å</strong><ul id="2ab568fa-e39f-8017-9921-c6b9a536b429" class="bulleted-list"><li style="list-style-type:disc">—Ç–æ–Ω –º–æ–∂–Ω–æ —Ç—é–Ω–∏—Ç—å –ø—Ä–æ–º–ø—Ç–æ–º:<ul id="2ab568fa-e39f-80ba-b4fb-cfcdc822f2d8" class="bulleted-list"><li style="list-style-type:circle">–±–æ–ª–µ–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π/–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π,</li></ul><ul id="2ab568fa-e39f-80dc-8a73-e7ec70eb4808" class="bulleted-list"><li style="list-style-type:circle">–∫–æ—Ä–æ—Ç–∫–∏–π/—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π,</li></ul><ul id="2ab568fa-e39f-80e1-8a26-c0de7a608b37" class="bulleted-list"><li style="list-style-type:circle">—Å —ç–º–æ–¥–∑–∏/–±–µ–∑.</li></ul></li></ul><ul id="2ab568fa-e39f-80a6-ae8a-f9341fbee76f" class="bulleted-list"><li style="list-style-type:disc">–ù–æ –±–µ–∑ SFT –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö –ø–æ–¥–¥–µ—Ä–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç ‚Äú—Å—Ä–µ–¥–Ω–µ–Ω—å–∫–∏–º‚Äù.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-8069-b6e9-f8f7f452fe6c" class="numbered-list" start="4"><li><strong>–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong><ul id="2ab568fa-e39f-8064-9b15-daeafee8385a" class="bulleted-list"><li style="list-style-type:disc">–≤ –±–æ–µ–≤–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ –Ω—É–∂–Ω–æ:<ul id="2ab568fa-e39f-808e-ad52-ef02bec4a635" class="bulleted-list"><li style="list-style-type:circle">—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å PII,</li></ul><ul id="2ab568fa-e39f-804d-a991-c9d986702b82" class="bulleted-list"><li style="list-style-type:circle">–Ω–µ –¥–∞–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –ø–∏—Å–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –≤–µ—â–∏,</li></ul><ul id="2ab568fa-e39f-80f1-a185-f1533e7c7356" class="bulleted-list"><li style="list-style-type:circle">–¥–æ–±–∞–≤–ª—è—Ç—å –ø—Ä–∞–≤–∏–ª–∞ / –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É.</li></ul></li></ul></li></ol><p id="2ab568fa-e39f-80b7-b2b2-e64b65f4050d" class="">–í —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ –º—ã –ø—Ä–æ—Å—Ç–æ —á–µ—Å—Ç–Ω–æ –ø—Ä–∏–∑–Ω–∞—ë–º: <em>—ç—Ç–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞, –∞ –Ω–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥–∞–∫—à–Ω-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</em>.</p><hr id="2ab568fa-e39f-806a-a033-c35d22ec0620"/><h2 id="2ab568fa-e39f-80a0-8300-fab2671608da" class="">9. –î–æ–º–∞—à–∫–∞ –∫ —É—Ä–æ–∫—É 5.4 (–∏ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç –ø–æ –º–æ–¥—É–ª—é)</h2><h3 id="2ab568fa-e39f-8087-b8e5-f31a206e818f" class="">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å</h3><ol type="1" id="2ab568fa-e39f-8096-91ae-d88e7333dae3" class="numbered-list" start="1"><li>–î–æ–¥–µ–ª–∞—Ç—å —Å–≤–æ–π —Å–∫—Ä–∏–ø—Ç <code>summarize_and_reply.py</code>, –∫–æ—Ç–æ—Ä—ã–π:<ul id="2ab568fa-e39f-803b-9c19-f05d77b8c5e4" class="bulleted-list"><li style="list-style-type:disc">–≥—Ä—É–∑–∏—Ç –¥–æ–æ–±—É—á–µ–Ω–Ω—ã–π summarizer (–∏–∑ 5.3),</li></ul><ul id="2ab568fa-e39f-80cb-94fe-d65db0b4ea8e" class="bulleted-list"><li style="list-style-type:disc">—Ä–µ–∞–ª–∏–∑—É–µ—Ç <code>summarize_dialog(dialog)</code> –∏ <code>suggest_reply(dialog)</code>,</li></ul><ul id="2ab568fa-e39f-80f3-864e-f3f2adfbbc51" class="bulleted-list"><li style="list-style-type:disc">–≤ <code>__main__</code>:<ul id="2ab568fa-e39f-80ec-b1db-d86c414290d7" class="bulleted-list"><li style="list-style-type:circle">–±–µ—Ä—ë—Ç –¥–∏–∞–ª–æ–≥ (–∏–∑ —Ñ–∞–π–ª–∞ –∏–ª–∏ stdin),</li></ul><ul id="2ab568fa-e39f-80ce-94fb-e9ad42950e89" class="bulleted-list"><li style="list-style-type:circle">–ø–µ—á–∞—Ç–∞–µ—Ç summary –∏ –æ—Ç–≤–µ—Ç.</li></ul></li></ul></li></ol><ol type="1" id="2ab568fa-e39f-8069-9e58-dd9b211c919f" class="numbered-list" start="2"><li>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–Ω–∏–º—É–º <strong>5 —Ä–∞–∑–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤</strong>:<ul id="2ab568fa-e39f-80ae-b333-e4346a59ab3d" class="bulleted-list"><li style="list-style-type:disc">—Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–±–ª–µ–º: –±–∞–≥, –±–∏–ª–ª–∏–Ω–≥, –∑–∞–ø—Ä–æ—Å —Ñ–∏—á–∏ –∏ —Ç.–ø.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-8059-8c09-c9aff2412b1d" class="numbered-list" start="3"><li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞:<ul id="2ab568fa-e39f-805f-ac94-dccd56015705" class="bulleted-list"><li style="list-style-type:disc">—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å:<ul id="2ab568fa-e39f-8044-867f-e23eb32a4639" class="bulleted-list"><li style="list-style-type:circle">–∏—Å—Ö–æ–¥–Ω—ã–π –¥–∏–∞–ª–æ–≥,</li></ul><ul id="2ab568fa-e39f-80d1-8449-d6ac011b0fc7" class="bulleted-list"><li style="list-style-type:circle">—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π summary,</li></ul><ul id="2ab568fa-e39f-808a-aa83-df0db044b97c" class="bulleted-list"><li style="list-style-type:circle">—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π reply.</li></ul></li></ul><ul id="2ab568fa-e39f-8021-bf6d-de4108b5eeea" class="bulleted-list"><li style="list-style-type:disc">–∫–æ—Ä–æ—Ç–∫–æ (1‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) –æ—Ü–µ–Ω–∏—Ç—å:<ul id="2ab568fa-e39f-80a4-a928-ef56d4cdc403" class="bulleted-list"><li style="list-style-type:circle">—á—Ç–æ –º–æ–¥–µ–ª—å —Å–¥–µ–ª–∞–ª–∞ —Ö–æ—Ä–æ—à–æ,</li></ul><ul id="2ab568fa-e39f-8038-8ffb-e445ae8fbb65" class="bulleted-list"><li style="list-style-type:circle">—á—Ç–æ —Å–¥–µ–ª–∞–ª–∞ –ø–ª–æ—Ö–æ / —Å—Ç—Ä–∞–Ω–Ω–æ.</li></ul></li></ul></li></ol><h3 id="2ab568fa-e39f-80d8-b91f-c71ca7034e92" class="">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å (—á—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ)</h3><ol type="1" id="2ab568fa-e39f-8030-915a-da8e9338fbcc" class="numbered-list" start="1"><li>–ü–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å –ø—Ä–æ–º–ø—Ç–æ–º –¥–ª—è –æ—Ç–≤–µ—Ç–∞:<ul id="2ab568fa-e39f-800e-81e2-c0704fae7ae9" class="bulleted-list"><li style="list-style-type:disc">—Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å,</li></ul><ul id="2ab568fa-e39f-80c1-a238-e8d06805c324" class="bulleted-list"><li style="list-style-type:disc">—Å–¥–µ–ª–∞—Ç—å –±–æ–ª–µ–µ ‚Äúhuman-like‚Äù / friendly,</li></ul><ul id="2ab568fa-e39f-80bd-8fbb-c03e31b774c4" class="bulleted-list"><li style="list-style-type:disc">—Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–º–ø—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-8027-a323-c66ccda0cd1c" class="numbered-list" start="2"><li>–ü–æ–º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è reply:<ul id="2ab568fa-e39f-80bb-afea-ce92bd6ef764" class="bulleted-list"><li style="list-style-type:disc">–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å sampling (top_k / top_p / temperature),</li></ul><ul id="2ab568fa-e39f-8085-af64-fd881ed80074" class="bulleted-list"><li style="list-style-type:disc">—Å—Ä–∞–≤–Ω–∏—Ç—å, –Ω–µ —Ä—É—à–∏—Ç –ª–∏ —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.</li></ul></li></ol><ol type="1" id="2ab568fa-e39f-800b-9331-fc097d56d7a2" class="numbered-list" start="3"><li>(–ü—Ä–æ–µ–∫—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å) –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ñ–ª–∞–≥:<ul id="2ab568fa-e39f-80d6-9511-ebc1c5387903" class="bulleted-list"><li style="list-style-type:disc"><code>-mode summary</code> ‚Üí —Ç–æ–ª—å–∫–æ summary,</li></ul><ul id="2ab568fa-e39f-80f0-8028-e0d392aa7dbb" class="bulleted-list"><li style="list-style-type:disc"><code>-mode reply</code> ‚Üí summary + reply,</li></ul><ul id="2ab568fa-e39f-8054-a84c-feb720f5caa6" class="bulleted-list"><li style="list-style-type:disc"><code>-mode debug</code> ‚Üí –µ—â—ë –≤—ã–≤–æ–¥–∏—Ç—å raw prompt –¥–ª—è –æ—Ç–≤–µ—Ç–∞.</li></ul></li></ol><hr id="2ab568fa-e39f-80c2-90f4-f259bd4b0818"/><h2 id="2ab568fa-e39f-8095-96fa-e6b8cc43ef3b" class="">10. –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∫ –∫–æ–Ω—Ü—É –º–æ–¥—É–ª—è 5</h2><p id="2ab568fa-e39f-8039-8d98-ea56023a6c0c" class="">–ï—Å–ª–∏ —Å–æ–±—Ä–∞—Ç—å –≤—Å—ë:</p><ul id="2ab568fa-e39f-8082-ac70-ea3d9866647b" class="bulleted-list"><li style="list-style-type:disc">5.1 ‚Äî —É–º–µ–µ–º <strong>–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å summary</strong> –≥–æ—Ç–æ–≤–æ–π –º–æ–¥–µ–ª—å—é, –∏–≥—Ä–∞–µ–º —Å <code>generate</code>.</li></ul><ul id="2ab568fa-e39f-80f7-862e-fdb6f67847c5" class="bulleted-list"><li style="list-style-type:disc">5.2 ‚Äî —É–º–µ–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å <strong>–¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è seq2seq</strong> –∑–∞–¥–∞—á.</li></ul><ul id="2ab568fa-e39f-802c-8afb-d53ba5015870" class="bulleted-list"><li style="list-style-type:disc">5.3 ‚Äî —É–º–µ–µ–º fine-tune‚Äô–∏—Ç—å seq2seq —á–µ—Ä–µ–∑ <code>Seq2SeqTrainer</code> –∏ –∏–∑–º–µ—Ä—è—Ç—å ROUGE.</li></ul><ul id="2ab568fa-e39f-80fb-bd6c-eb8e85715591" class="bulleted-list"><li style="list-style-type:disc">5.4 ‚Äî —Å–æ–±—Ä–∞–ª–∏ <strong>–º–∏–Ω–∏-–ø—Ä–æ–¥—É–∫—Ç</strong>: <code>dialog ‚Üí summary ‚Üí reply</code>.</li></ul><p id="2ab568fa-e39f-8095-b5e7-e45eafdc4d04" class="">–î–∞–ª—å—à–µ –º–æ–∂–Ω–æ:</p><ul id="2ab568fa-e39f-8073-8e4f-c8aa2ffa2578" class="bulleted-list"><li style="list-style-type:disc">–ª–∏–±–æ —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ <strong>PEFT/LoRA</strong> (–¥–æ–æ–±—É—á–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π –¥–µ—à–µ–≤–ª–µ),</li></ul><ul id="2ab568fa-e39f-8041-afbd-fac18ba3b5b5" class="bulleted-list"><li style="list-style-type:disc">–ª–∏–±–æ –¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –ø–æ–¥ <strong>–ø–µ—Ä–µ–≤–æ–¥, –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä–æ–≤–∞–Ω–∏–µ, Q&amp;A</strong> –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö –∂–µ seq2seq-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤.</li></ul><p id="2ab568fa-e39f-80a5-9ce4-d1623037cdc7" class="">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–∂–µ–º —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º:</p><ul id="2ab568fa-e39f-80a1-a3cd-c94dfe0a7a34" class="bulleted-list"><li style="list-style-type:disc">—Å–æ–±—Ä–∞—Ç—å <strong>–∫–æ—Ä–æ—Ç–∫–æ–µ README</strong> –¥–ª—è —ç—Ç–æ–≥–æ –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ, –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç),</li></ul><ul id="2ab568fa-e39f-8058-958e-f4d61711af50" class="bulleted-list"><li style="list-style-type:disc">–∏–ª–∏ –ø—Ä–∏–¥—É–º–∞—Ç—å, –∫–∞–∫ —ç—Ç–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –≤–µ–±-–¥–µ–º–∫—É (FastAPI/Gradio/Streamlit).</li></ul></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>